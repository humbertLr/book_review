/* @settings

name: 标题字体设置
id: heading-font-settings
settings:
    - 
        id: my-title
        title: 我的设置
        type: heading
        level: 3
    - 
        id: accent
        title: 主题色
        type: variable-color
        format: hsl-split
        default: '#007AFF'
    - 
        id: text
        title: 界面字体
        description: 用户界面使用的字体
        type: variable-text
        default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif
    -
        id: headings-title
        title: 标题字体大小
        type: heading
        level: 3
    -
        id: h1-size
        title: 一级标题大小
        description: H1 标题的字体大小
        type: variable-number
        default: 2
        format: em
        min: 1
        max: 3
        step: 0.1
    -
        id: h2-size
        title: 二级标题大小
        description: H2 标题的字体大小
        type: variable-number
        default: 1.6
        format: em
        min: 1
        max: 2.5
        step: 0.1
    -
        id: h3-size
        title: 三级标题大小
        description: H3 标题的字体大小
        type: variable-number
        default: 1.4
        format: em
        min: 1
        max: 2
        step: 0.1
    -
        id: h4-size
        title: 四级标题大小
        description: H4 标题的字体大小
        type: variable-number
        default: 1.2
        format: em
        min: 0.8
        max: 1.8
        step: 0.1
    -
        id: h5-size
        title: 五级标题大小
        description: H5 标题的字体大小
        type: variable-number
        default: 1.1
        format: em
        min: 0.8
        max: 1.5
        step: 0.1
    -
        id: h6-size
        title: 六级标题大小
        description: H6 标题的字体大小
        type: variable-number
        default: 1
        format: em
        min: 0.8
        max: 1.3
        step: 0.1
    -
        id: spacing-title
        title: 段落间距设置
        type: heading
        level: 3
    -
        id: paragraph-spacing
        title: 段落间距
        description: 段落之间的垂直间距（空行的视觉高度）
        type: variable-number
        default: 0.8
        format: em
        min: 0.2
        max: 2
        step: 0.1
    -
        id: line-height
        title: 行高
        description: 文本行与行之间的高度
        type: variable-number
        default: 1.4
        format: unit
        min: 1
        max: 2
        step: 0.1
    -
        id: compact-mode
        title: 紧凑模式
        description: 启用更紧凑的段落显示
        type: class-toggle
        default: false

*/

/* 应用标题字体大小设置 */
.cm-header-1 { font-size: var(--h1-size); }
.cm-header-2 { font-size: var(--h2-size); }
.cm-header-3 { font-size: var(--h3-size); }
.cm-header-4 { font-size: var(--h4-size); }
.cm-header-5 { font-size: var(--h5-size); }
.cm-header-6 { font-size: var(--h6-size); }

.markdown-preview-view h1 { font-size: var(--h1-size); }
.markdown-preview-view h2 { font-size: var(--h2-size); }
.markdown-preview-view h3 { font-size: var(--h3-size); }
.markdown-preview-view h4 { font-size: var(--h4-size); }
.markdown-preview-view h5 { font-size: var(--h5-size); }
.markdown-preview-view h6 { font-size: var(--h6-size); }

/* 应用段落间距设置 - 编辑模式 */
.cm-line {
    line-height: var(--line-height);
}

.markdown-source-view.mod-cm6 .cm-line {
    padding-top: 2px;
    padding-bottom: 2px;
}

/* 应用段落间距设置 - 预览模式 */
.markdown-preview-view p {
    margin-top: calc(var(--paragraph-spacing) * 0.5);
    margin-bottom: calc(var(--paragraph-spacing) * 0.5);
    line-height: var(--line-height);
}

.markdown-preview-view .mod-cm6 .cm-paragraph {
    margin-bottom: calc(var(--paragraph-spacing) * 0.3);
}

/* 紧凑模式 */
body.compact-mode .markdown-preview-view p {
    margin-top: calc(var(--paragraph-spacing) * 0.3);
    margin-bottom: calc(var(--paragraph-spacing) * 0.3);
}

body.compact-mode .cm-line {
    line-height: calc(var(--line-height) * 0.9);
}

/* 列表项间距也相应调整 */
.markdown-preview-view ul, 
.markdown-preview-view ol {
    margin-top: calc(var(--paragraph-spacing) * 0.3);
    margin-bottom: calc(var(--paragraph-spacing) * 0.3);
}

.markdown-source-view.mod-cm6 .cm-line {
    margin-bottom: calc(var(--paragraph-spacing) * 0.2);
}